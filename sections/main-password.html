{{#if request.document_direction '===' 'rtl'}}
  {{ combine_asset_tag 'stage/password/index.rtl.css' inline=true}}
{{else}}
  {{ combine_asset_tag 'stage/password/index.css' inline=true}}
{{/if}}
<!-- stage/password/index.js -->
  {{ combine_asset_tag 
    'vendors/axios.min.js'
    'vendors/query-string.min.js'
    'vendors/lodash.min.js'
    type="text/javascript"
    defer=true
  }}
  {{ combine_asset_tag 
    'theme-shared/utils/request.js'
    'theme-shared/utils/syntax-patch.js'
    'theme-shared/utils/i18n.js'
    'theme-shared/components/hbs/shared/components/toast/toast.js'
    'theme-shared/components/hbs/shared/components/toast/loading.js'
    'theme-shared/components/hbs/shared/components/toast/index.js'
    'theme-shared/utils/sectionsLoad/index.js'
    'theme-shared/utils/emailReg.js'
    'commons/utils/checkEmail.js'
    'commons/utils/debounce.js'
    'stage/password/index.js'
    type="text/javascript"
    defer=true
  }}

<div
  class="password-container"
  data-section-id="{{ section.id }}"
  data-section-type="password"
  style="background-image: url({{ section.settings.bg_img.url }});background-color:{{ section.settings.bg_color }}"
>
  <div class="password-wrapper">
    <header class="password-header">
      <div class="password-logo">
        {{#or storeInfo.standardLogo section.settings.logo_img.url}}
          <div class="password-logo-image">
            {{#if section.settings.logo_img.url}}
              <img src="{{ section.settings.logo_img.url }}" width="{{ section.settings.logo_width }}" alt="{{ storeInfo.name }}" />
            {{else}}
              <img src="{{ storeInfo.standardLogo }}" width="{{ section.settings.logo_width }}" alt="{{ storeInfo.name }}" />
            {{/if}}
          </div>
        {{else}}
          <span class="password-logo-text">
            {{ storeInfo.name }}
          </span>
        {{/or}}
      </div>
    </header>
    <main class="card password-body">
      {{#if section.settings.show_email}}
        <div class="password-subscription js_password_subscription">
          <h1 class="password-body__title" style="color:{{ section.settings.text_color }}">
            {{ section.settings.title }}
          </h1>
          <p class="password-body__description" style="color:{{ rgba section.settings.text_color 0.6 }}">
            {{{ section.settings.describe }}}
          </p>
          <div class="from-item">
            <input class="form-control js_password_email_input" style="border-color:{{ section.settings.input_color }};
            color:{{ section.settings.text_color }}" placeholder="{{ section.settings.email_tip }}" />
          </div>
          <div class="from-item">
            <a href="javascript:;" style="background-color: {{ section.settings.btn_bg_color }};color:{{ section.settings.btn_text_color }}" class="form-button js_password_email">
              {{ t 'customer.subscription.subscribe_button' }}
            </a>
          </div>
          <a href="javascript:;" class="password-body__opts js_password_link" style="color:{{ rgba section.settings.text_color 0.6 }}">
            {{ t 'general.password.forget_password' }}
          </a>
        </div>
      {{/if}}
      <div class="password-into js_password {{#if section.settings.show_email}}hide{{/if}}">
        <h1 class="password-body__title" style="color:{{ section.settings.text_color }}">
          {{ section.settings.title }}
        </h1>
        <p class="password-body__description js_password_description" style="color:{{ rgba section.settings.text_color 0.6 }}"></p>
        <div class="from-item">
          <input type="text" class="form-control js_password_input" tyle="border-color:{{ section.settings.input_color }};color:{{ section.settings.text_color }}" placeholder="{{ t 'general.password.input_password' }}" />
        </div>
        <div class="from-item">
          <a
            href="javascript:;"
            style="background-color: {{ section.settings.btn_bg_color }};color:{{ section.settings.btn_text_color }}"
            class="form-button js_password_btn"
          >
            {{ t 'general.password.entry_store' }}
          </a>
        </div>
        {{#if (isTruthy section.settings.show_email)}}
          <div class="callback">
            <a href="javascript:;" class="password-body__opts js_password_back" style="color:{{ rgba section.settings.text_color 0.6 }}">
              {{ t 'general.password.back' }}
            </a>
          </div>
        {{/if}}

      </div>
    </main>
    
    {{#if section.settings.show_media}}
      {{#with theme.settings}}
        {{#or social_facebook_link social_twitter_link social_pinterest_link social_instagram_link social_snapchat_link social_tiktok_link social_youtube_link social_linkedin_link social_whatsapp_link social_line_link social_kakao_link}}
          <div class="card password-share">
            {{#if ../section.settings.media_title}}
              <div class="password-share__desc" style="color:{{ ../section.settings.text_color }}">
                {{ ../section.settings.media_title }}
              </div>
            {{/if}}
            
            <div class="password-share__social-icons">
            {{#if social_facebook_link}}
              <a class="__sl-custom-track-stage-social-facebook" href="{{ social_facebook_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_fb' }}
                {{else}}
                  {{ snippet 'icons/icon_social_fb' }}
                {{/if}}
              </a>
            {{/if}}
            {{#if social_twitter_link}}
              <a class="__sl-custom-track-stage-social-twitter" href="{{ social_twitter_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_twitter' }}
                {{else}}
                  {{ snippet 'icons/icon_social_twitter' }}
                {{/if}}
              </a>
            {{/if}}
            {{#if social_pinterest_link}}
              <a class="__sl-custom-track-stage-social-pinterest" href="{{ social_pinterest_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_pin' }}
                {{else}}
                  {{ snippet 'icons/icon_social_pin' }}
                {{/if}}
              </a>
            {{/if}}
            {{#if social_instagram_link}}
              <a class="__sl-custom-track-stage-social-instagram" href="{{ social_instagram_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_ig' prefix='footer' }}
                {{else}}
                  {{ snippet 'icons/icon_social_ig' }}
                {{/if}}
              </a>
            {{/if}}
            {{#if social_snapchat_link}}
              <a class="__sl-custom-track-stage-social-snapchat" href="{{ social_snapchat_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_snapchat' prefix='footer' }}
                {{else}}
                  {{ snippet 'icons/icon_social_snapchat' }}
                {{/if}}
              </a>
            {{/if}}
            {{#if social_tiktok_link}}
              <a class="__sl-custom-track-stage-social-tiktok" href="{{ social_tiktok_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_tiktok' }}
                {{else}}
                  {{ snippet 'icons/icon_social_tiktok' }}
                {{/if}}
              </a>
            {{/if}}
            {{#if social_youtube_link}}
              <a class="__sl-custom-track-stage-social-youtube" href="{{ social_youtube_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_youtube' prefix='footer' }}
                {{else}}
                  {{ snippet 'icons/icon_social_youtube' }}
                {{/if}}
              </a>
            {{/if}}
            {{#if social_linkedin_link}}
              <a href="{{ social_linkedin_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_linkedin' prefix='footer' }}
                {{else}}
                  {{ snippet 'icons/icon_social_linkedin' }}
                {{/if}}
              </a>
            {{/if}}
            {{#if social_whatsapp_link}}
              <a href="{{ social_whatsapp_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_whatsapp' prefix='footer' }}
                {{else}}
                  {{ snippet 'icons/icon_social_whatsapp' }}
                {{/if}}
              </a>
            {{/if}}
            {{#if social_line_link}}
              <a href="{{ social_line_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_line' prefix='footer' }}
                {{else}}
                  {{ snippet 'icons/icon_social_line' }}
                {{/if}}
              </a>
            {{/if}}
            {{#if social_kakao_link}}
              <a href="{{ social_kakao_link }}" target="_blank">
                {{#if show_official_icon}}
                  {{ snippet 'icons/icon_official_kakao' prefix='footer' }}
                {{else}}
                  {{ snippet 'icons/icon_social_kakao' }}
                {{/if}}
              </a>
            {{/if}}
            </div>
          </div>
        {{/or}}
      {{/with}}
    {{/if}}
  </div>
  {{#if (not request.is_mobile)}}
    <div class="password-footer">
      <a href="https://{{ shop.permanent_domain }}/admin" target="_blank" class="password-to-login js_password_back_main">
        {{ t 'general.password.i_am_admin' }} ? {{ t 'general.password.goto_admin' }}
      </a>
    </div>
  {{/if}}
</div>
{{#schema}}
{
  "name": "t:sections.main-password.name",
  "max_blocks": 1,
  "default": [
    {
      "settings": {
        "logo_img": {},
        "logo_width": 100,
        "title": "Opening soon",
        "describe": "Be the first to know when we launch.",
        "show_email": true,
        "email_tip": "Enter your email",
        "text_color": "#000000",
        "input_color": "#000000",
        "btn_bg_color": "#000000",
        "btn_text_color": "#FFFFFF",
        "bg_img": {
          "url": "https://img.myshopline.com/image/official/f9f916797d8f4bf2810ef081a9782ccd.jpeg",
          "alt": ""
        },
        "bg_color": "",
        "show_media": true,
        "media_title": "Spread the word"
      }
    }
  ],
  "settings": [
    {
      "type": "group_header",
      "label": "t:sections.main-password.settings.group_header__0.label"
    },
    {
      "type": "image_picker",
      "id": "logo_img",
      "label": "t:sections.main-password.settings.logo_img.label",
      "default": {}
    },
    {
      "type": "range",
      "id": "logo_width",
      "label": "t:sections.main-password.settings.logo_width.label",
      "default": "100",
      "min": 50,
      "max": 500,
      "step": 10,
      "unit": "px"
    },
    {
      "type": "group_header",
      "label": "t:sections.main-password.settings.group_header__1.label"
    },
    {
      "id": "title",
      "type": "text",
      "label": "t:sections.main-password.settings.title.label",
      "default": "Opening soon"
    },
    {
      "id": "describe",
      "type": "richtext",
      "label": "t:sections.main-password.settings.describe.label",
      "default": "Be the first to know when we launch."
    },
    {
      "type": "switch",
      "id": "show_email",
      "default": true,
      "label": "t:sections.main-password.settings.show_email.label"
    },
    {
      "type": "text",
      "id": "email_tip",
      "label": "t:sections.main-password.settings.email_tip.label",
      "default": "Enter your email"
    },
    {
      "type": "color_picker",
      "id": "text_color",
      "label": "t:sections.main-password.settings.text_color.label",
      "default": "#000000"
    },
    {
      "type": "color_picker",
      "id": "input_color",
      "label": "t:sections.main-password.settings.input_color.label",
      "default": "#000000"
    },
    {
      "type": "color_picker",
      "id": "btn_bg_color",
      "label": "t:sections.main-password.settings.btn_bg_color.label",
      "default": "#000000"
    },
    {
      "type": "color_picker",
      "id": "btn_text_color",
      "label": "t:sections.main-password.settings.btn_text_color.label",
      "default": "#FFFFFF"
    },
    {
      "type": "image_picker",
      "id": "bg_img",
      "label": "t:sections.main-password.settings.bg_img.label",
      "default": {
        "url": "https://img.myshopline.com/image/official/f9f916797d8f4bf2810ef081a9782ccd.jpeg",
        "alt": ""
      }
    },
    {
      "type": "color_picker",
      "id": "bg_color",
      "label": "t:sections.main-password.settings.bg_color.label",
      "default": ""
    },
    {
      "type": "group_header",
      "label": "t:sections.main-password.settings.group_header__2.label"
    },
    {
      "id": "show_media",
      "type": "switch",
      "label": "t:sections.main-password.settings.show_media.label",
      "default": true
    },
    {
      "type": "text",
      "id": "media_title",
      "label": "t:sections.main-password.settings.media_title.label",
      "default": "Spread the word"
    }
  ]
}
{{/schema}}
