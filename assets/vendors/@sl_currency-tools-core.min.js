!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e={};!function(e){function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=Array(e);r<e;r++)o[r]=t[r];return o}var o,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=1/0,u=NaN,c=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt,y="object"==typeof n&&n&&n.Object===Object&&n,s="object"==typeof self&&self&&self.Object===Object&&self,d=y||s||Function("return this")(),g=Object.prototype.toString,p=d.Symbol,v=Math.min,b=p?p.prototype:void 0,h=b?b.toString:void 0;function C(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function _(t){return"symbol"==typeof t||!!t&&"object"==typeof t&&"[object Symbol]"==g.call(t)}function S(t){if("number"==typeof t)return t;if(_(t))return u;if(C(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=C(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var r=l.test(t);return r||f.test(t)?m(t.slice(2),r?2:8):i.test(t)?u:+t}function w(t){return null==t?"":function(t){if("string"==typeof t)return t;if(_(t))return h?h.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}(t)}var F,M,P,D,O,W,j=(F=Math.round,function(t,e){if(t=S(t),e=v((n=(o=(r=e)?(r=S(r))===a||r===-a?(r<0?-1:1)*17976931348623157e292:r==r?r:0:0===r?r:0)%1,o==o?n?o-n:o:0),292)){var r,o,n,u=(w(t)+"e").split("e");return+((u=(w(F(u[0]+"e"+(+u[1]+e)))+"e").split("e"))[0]+"e"+(+u[1]-e))}return F(t)}),N={amount:{value:"amount",decimalSymbol:".",groupSymbol:",",format:"amount"},amount_no_decimals:{value:"amount_no_decimals",decimalSymbol:"",groupSymbol:",",format:"amount_no_decimals"},amount_with_comma_separator:{value:"amount_with_comma_separator",decimalSymbol:",",groupSymbol:".",format:"amount_with_comma_separator"},amount_no_decimals_with_comma_separator:{value:"amount_no_decimals_with_comma_separator",decimalSymbol:"",groupSymbol:".",format:"amount_no_decimals_with_comma_separator"},amount_with_apostrophe_separator:{value:"amount_with_apostrophe_separator",decimalSymbol:".",groupSymbol:"'",format:"amount_with_apostrophe_separator"},amount_no_decimals_with_space_separator:{value:"amount_no_decimals_with_space_separator",decimalSymbol:"",groupSymbol:" ",format:"amount_no_decimals_with_space_separator"},amount_with_space_separator:{value:"amount_with_space_separator",decimalSymbol:",",groupSymbol:" ",format:"amount_with_space_separator"}},B=/.*\{\{(.*)\}\}/,T=/(\{\{.*\}\})/,E="amount";(o=M||(M={})).PREFIX="prefix",o.SUFFIX="suffix";var I=Object.entries(N).map(function(t){return(function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var o,n,a=[],u=!0,c=!1;try{for(r=r.call(t);!(u=(o=r.next()).done)&&(a.push(o.value),2!==a.length);u=!0);}catch(t){c=!0,n=t}finally{try{u||null==r.return||r.return()}finally{if(c)throw n}}return a}}(t,2)||function(t,e){if(t){if("string"==typeof t)return r(t,2);var o=Object.prototype.toString.call(t).slice(8,-1);if("Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return r(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1].value}),x=new Map,R=new Map,Y=new Map,$=new Map,A=new Map,X=new Map,G=new Map,U=new Map,k=new Map,q=function(t){O=t},z=function(){return O},H=function(){return W},J=function(t){return I.includes(t||"")},K=function(t){var e=t.match(B);if(e&&e.length){var r=(e[1]||"").trim();return J(r)?N[r]:null}return null},L=function(t,e,r){var o=K(e),n=(r?X:A).get(t),a=n&&n.format;return o||(J(a)?N[a]:N[E])},Q=function(t){return K(t)||N[E]},V=function(t,e,r){var o,n,a=t.match(B);return null!=a&&a.length&&I.includes((null==a||null===(o=a[1])||void 0===o?void 0:o.trim())||"")?t:(null===(n=(r?X:A).get(e))||void 0===n?void 0:n.origin)||"{{amount}}"},Z=function(t,e){var r=Q(e).format;A.set(t,{format:r,origin:e})},tt=function(t,e){var r=Q(e).format;X.set(t,{format:r,origin:e})},te=function(t,e){var r=L(t,e,!1),o=r.format,n=r.decimalSymbol,a=r.groupSymbol;U.set(t,n),k.set(t,a),Y.set(t,{format:o,origin:V(e,t,!1)})},tr=function(t,e){var r=L(t,e,!0),o=r.format,n=r.decimalSymbol,a=r.groupSymbol;U.set(t,n),k.set(t,a),$.set(t,{format:o,origin:V(e,t,!0)})},to=function(t){var e,r=H().find(function(e){return e.currencyCode===t});if(!r)throw Error('Failed to retrieve currency configuration for "currencyCode: '.concat(t,'".'));var o=r.messageWithoutDefaultCurrency,n=r.messageWithCurrency,a=r.messageWithoutCurrency,u=r.messageWithDefaultCurrency,c=r.currencyCode,i=r.rate,l=r.currencySymbol;e=void 0===i?2:i,x.set(c,e),R.set(c,l),function(t,e){if(!e)throw Error("".concat(t,' cannot find the corresponding configuration for "messageWithoutDefaultCurrency".'));(null==e?void 0:e.replace(/^\s+/,"").indexOf("{{"))>0?G.set(t,M.PREFIX):G.set(t,M.SUFFIX)}(c,o),Z(c,o),tt(c,u),te(c,a),tr(c,n)},tn=function(t,e,r){var o,n,a,u=N[e],c=u.groupSymbol,i=u.decimalSymbol,l=t<0,f=(a=j(l?-t:t,r),0!==r&&i?(o=Math.floor(a),n=function(t,e,r){if(t.length>=e)return t;var o=e-t.length,n="0";if(o>1)for(var a=0;a<o/1;a++)n+=r;return t+n.slice(0,o)}("".concat(j(a-o,r)).replace(/^0?\.?/,""),r,"0")):(o=j(a),n=""),{integerPart:o,fractionPart:n}),m=f.fractionPart,y=f.integerPart,s="".concat(y||0).replace(/(\d)(?=(?:\d{3})+$)/g,"$1".concat(c));return{integer:"".concat(l?"-":"").concat(s),fraction:m,groupSymbol:c,decimalSymbol:i}},ta=function(t,e){var r,o=(null==e?void 0:e.code)||P||"CNY";Y.get(o)||to(o);var n=tp(o),a=tg(o),u=tm(o),c=ty(o),i=(Y.get(o)||{}).format,l=tn(t,J(i)?i:E,2),f=l.integer,m=l.fraction,y=[],s=(null==f?void 0:f.split(n))||[];return s.forEach(function(t,e){y.push({type:"integer",value:t}),e!==s.length-1&&y.push({type:"group",value:n})}),y.push({type:"decimal",value:a}),y.push({type:"fraction",value:null!==(r=null==m?void 0:m.trim())&&void 0!==r?r:""}),"prefix"===c?y.unshift({type:"currency",value:u}):y.push({type:"currency",value:u}),y},tu=function(t){var e,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CNY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D,a=(arguments.length>3?arguments[3]:void 0)||z();return o===n?t:t*(null!==(e=a[n])&&void 0!==e?e:1)/(null!==(r=a[o])&&void 0!==r?r:1)},tc=function(t,e,r){var o=e?$:Y,n=e?tl:tf,a=r||{},u=a.from,c=void 0===u?P:u,i=a.to,l=void 0===i?D:i,f=a.currencyRates;return o.get(c)||to(c),o.get(l)||to(l),n(tu(t,c,l,f||z()),{code:l})},ti=function(t,e,r){var o,n=e?$:Y,a=(null==r?void 0:r.code)||P||"CNY";n.get(a)||to(a);var u=n.get(a)||{},c=u.format,i=u.origin,l=null!==(o=null==r?void 0:r.digits)&&void 0!==o?o:2,f=tn(t/Math.pow(10,l),J(c)?c:E,l),m=f.integer,y=f.fraction,s=f.decimalSymbol;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").replace(T,t)}(s&&l?"".concat(m).concat(s).concat(y):m,i)},tl=function(t,e){return ti(t,!0,e)},tf=function(t,e){return ti(t,!1,e)},tm=function(t){var e;return Y.get(t)||to(t),null!==(e=R.get(t))&&void 0!==e?e:""},ty=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CNY";return Y.get(t)||to(t),G.get(t)},ts=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return("number"!=typeof t?Number(t):t)/Math.pow(10,e)},td=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return j(("number"!=typeof t?Number(t):t)*Math.pow(10,e),0)},tg=function(t){var e;return Y.get(t)||to(t),null!==(e=U.get(t))&&void 0!==e?e:""},tp=function(t){var e;return Y.get(t)||to(t),null!==(e=k.get(t))&&void 0!==e?e:""};e.convertCalc=tu,e.convertFormat=function(t,e){return tc(t,!0,e)},e.convertFormatWithoutCurrency=function(t,e){return tc(t,!1,e)},e.covertCalc=tu,e.defaultCurrency="CNY",e.defaultCurrencyDigit=2,e.defaultPresentDigit=2,e.format=tl,e.formatCurrency=function(t){return ts(t,2)},e.formatMoneyWithoutCurrency=function(t,e){var r=(null==e?void 0:e.code)||P||"CNY";Y.get(r)||to(r);var o=(Y.get(r)||{}).format,n=tn(t/100,J(o)?o:E,2),a=n.integer,u=n.fraction,c=n.decimalSymbol;return c?"".concat(a).concat(c).concat(u):a},e.formatNumber=ts,e.formatPercent=function(t){return ts(t,2)},e.formatWithoutCurrency=tf,e.getConvertPrice=function(t,e){var r=null!=e?e:{},o=r.from,n=r.code,a=r.to,u=r.currencyRates,c=o||P||"CNY";Y.get(c)||to(c);var i=a||n||D;Y.get(i)||to(i);var l=ta(tu(ts(t),c,i,u||O),{code:i}),f={group:"",integer:"",decimal:"",fraction:"",symbolOrder:"",currencySymbol:""},m=ty(i);return m&&(f.symbolOrder=m),l.forEach(function(t){var e=t.value;"currency"===t.type&&(f.currencySymbol=e),"integer"===t.type&&(f.integer?f.integer="".concat(f.integer).concat(f.group).concat(e):f.integer=e),"group"===t.type&&(f.group=e),"decimal"===t.type&&(f.decimal=e),"fraction"===t.type&&(f.fraction=e)}),f},e.getCurrencyConfig=H,e.getCurrencyRates=z,e.getDecimalSymbolByCode=tg,e.getDefaultToCurrency=function(){return D},e.getDigitsByCode=function(t){return Y.get(t)||to(t),x.get(t)},e.getFormatParts=ta,e.getGroupSymbolByCode=tp,e.getStoreCurrency=function(){return P},e.getSymbolByCode=tm,e.getSymbolOrderByCode=ty,e.parseCustomFormat=L,e.parseCustomFormatWithCurrency=tr,e.parseCustomFormatWithoutCurrency=te,e.parseDefaultFormat=Q,e.parseDefaultFormatWithCurrency=tt,e.parseDefaultFormatWithoutCurrency=Z,e.setCurrencyConfig=function(t){var e={};(W=t).forEach(function(t){e[t.currencyCode]=t.exchangeRate}),q(e),"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)&&(x.clear(),R.clear(),Y.clear(),$.clear(),A.clear(),X.clear(),G.clear(),U.clear(),k.clear())},e.setCurrencyRates=q,e.setDefaultToCurrency=function(t){D=t},e.setStoreCurrency=function(t){P=t},e.unformatCurrency=function(t){return td(t,2)},e.unformatNumber=td,e.unformatPercent=function(t){return td(t,2)},Object.defineProperty(e,"__esModule",{value:!0})}(e);window["@sl/currency-tools-core"]={formatMoneyWithoutCurrency:e.formatMoneyWithoutCurrency,formatWithoutCurrency:e.formatWithoutCurrency,getGroupSymbolByCode:e.getGroupSymbolByCode,setCurrencyConfig:e.setCurrencyConfig,setStoreCurrency:e.setStoreCurrency,setDefaultToCurrency:e.setDefaultToCurrency,getConvertPrice:e.getConvertPrice,convertFormat:e.convertFormat,covertCalc:e.covertCalc,convertFormatWithoutCurrency:e.convertFormatWithoutCurrency,format:e.format,unformatNumber:e.unformatNumber,formatNumber:e.formatNumber,unformatCurrency:e.unformatCurrency,unformatPercent:e.unformatPercent,formatCurrency:e.formatCurrency,formatPercent:e.formatPercent,getDigitsByCode:e.getDigitsByCode,getSymbolByCode:e.getSymbolByCode,getSymbolOrderByCode:e.getSymbolOrderByCode,getDecimalSymbolByCode:e.getDecimalSymbolByCode,getFormatParts:e.getFormatParts}}();
